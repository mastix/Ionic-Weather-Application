!function(){"use strict";function t(t,o,e){t.$on("$ionicView.enter",function(){t.locationData=[],t.errorLocationRetrieval=!1;var n=o.getLocations();t.noLocation=n.length<1,t.noLocation||n.forEach(function(o){e.getWeatherData(o).then(function(o){e.updateWeatherIcon(o.data).then(function(o){t.locationData.push(o)})},function(){t.errorLocationRetrieval=!0})})})}angular.module("weatherapp.weatherlist",["weatherapp.locations"]).controller("WeatherlistController",["$scope","LocationService","WeatherListFactory",t])}();
!function(){"use strict";function t(t,e,n,a){return{getWeatherData:function(e){return t.get(n+"q="+e)},getWeatherDataByLatLong:function(e,a){return t.get(n+"lat="+e+"&lon="+a)},updateWeatherIcon:function(t){return e(function(e){t.weather[0].icon=a+t.weather[0].icon+".png",e(t)})}}}angular.module("weatherapp.weatherlist").factory("WeatherListFactory",["$http","$q","WEATHER_API_URL","WEATHER_API_IMAGE_URL",t])}();
!function(){"use strict";angular.module("weatherapp.weatherlist").constant("WEATHER_API_URL","http://api.openweathermap.org/data/2.5/weather?units=metric&").constant("WEATHER_API_IMAGE_URL","http://openweathermap.org/img/w/")}();
!function(){"use strict";angular.module("weatherapp.menu",[]).controller("MenuController",[function(){}])}();
!function(){"use strict";function o(o,n,t,e,a,i){function c(o,n){t.alert({title:o,template:n})}function r(o){return n(function(n,t){var e=/[a-zA-Z]+(?:(?:\\s+|-)[a-zA-Z]+)*/;o&&o.match(e)?a.getWeatherData(i+"q="+o).then(function(o){o.data&&"404"!==o.data.cod?n():t()},function(){t()}):t()})}o.location={name:""},o.$on("$ionicView.enter",function(){o.location.name="",o.locations=e.getLocations()}),o.removeLocation=function(n){o.location.name="",o.locations=e.removeLocation(n)},o.addLocation=function(n){r(n).then(function(){o.location.name="",o.locations=e.addLocation(n.trim())},function(){c("Error adding location!","The location you have entered is either not valid or you don't have access to the internet (e.g. firewall access) in order to verify the given location.")})},o.getCurrentLocation=function(){o.location.name="",o.showSpinner=!0,e.getCurrentLocation().then(function(n){o.showSpinner=!1,o.location.name=n},function(){o.showSpinner=!1,c("Error retrieving current location!","Your location could not be retrieved. Please make sure you have your GPS Location Services enabled and your network allows the retrieval.")})}}angular.module("weatherapp.locations",["weatherapp.weatherlist"]).controller("LocationsController",["$scope","$q","$ionicPopup","LocationService","WeatherListFactory","WEATHER_API_URL",o])}();
!function(){"use strict";function t(t){return{set:function(o,n){t.localStorage[o]=JSON.stringify(n)},get:function(o){return JSON.parse(t.localStorage[o]||"[]")}}}angular.module("weatherapp.locations").factory("LocationStorageService",["$window",t])}();
!function(){"use strict";function t(t,n,o,r){function e(n){t.set(a,n)}function i(){return t.get(a)}var a="l0c4t10nK3y";return{getLocations:function(){return i()},getCurrentLocation:function(){var t={timeout:1e4,enableHighAccuracy:!0};return n(function(n,e){o.getCurrentPosition(t).then(function(t){r.getWeatherDataByLatLong(t.coords.latitude,t.coords.longitude).then(function(t){n(t.data.name+", "+t.data.sys.country)},function(){e()})},function(){e()})})},addLocation:function(t){var n=i();return n.contains(t)||(n.push(t),e(n)),i()},removeLocation:function(t){var n=i();return n.remove(t),e(n),i()}}}Array.prototype.remove=function(){for(var t,n,o=arguments,r=o.length;r&&this.length;)for(t=o[--r];-1!==(n=this.indexOf(t));)this.splice(n,1);return this},Array.prototype.contains=function(t){for(var n=this.length;n--;)if(this[n]===t)return!0;return!1},angular.module("weatherapp.locations").factory("LocationService",["LocationStorageService","$q","$cordovaGeolocation","WeatherListFactory",t])}();
!function(){"use strict";function a(a,o){ionic.Platform.ready(function(){o.getAppVersion().then(function(o){a.app={version:o}})});var e=ionic.Platform.device();e.available===!0?a.deviceInformation={platform:e.platform,version:e.version,manufacturer:e.manufacturer.charAt(0).toUpperCase()+e.manufacturer.slice(1),model:e.model}:a.deviceInformation={platform:"n.a.",version:"n.a.",manufacturer:"n.a.",model:"n.a."},a.author={name:"Sascha Sambale",email:"mastixmc@gmail.com",url:"http://goo.gl/yduShl"}}angular.module("weatherapp.about",["ionic","ngCordova"]).controller("AboutController",["$scope","$cordovaAppVersion",a])}();